<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Supermarket App</title>
  <link rel="stylesheet" href="/styles/styles.css">
</head>

<body>
  <!-- Navbar -->
  <nav class="navbar">
    <a href="/" class="brand">ShopFood</a>
    <ul class="nav-links">
      <li><a href="/addProduct">Add Product</a></li>
      <li><a href="/logout">Logout</a></li>
    </ul>
  </nav>


  <!-- Main Content -->
  <div class="container">
    <p class="welcome-text">Welcome, <%= user.username %> (<%= user.role %>)</p>
    <br>
    <div class="text-center">
      <h2>ShopFood Inventory</h2>
    </div>
    <br>
    <table class="styled-table">
      <thead>
        <tr>
          <th>Product Name</th>
          <th>Product Image</th>
          <th>Quantity</th>
          <th>Price</th>
          <th>Edit</th>
          <th>Delete</th>
        </tr>
      </thead>
      <tbody>
        <% for(let i=0; i < products.length; i++) { %>
          <tr>
            <td><a href="/product/<%= products[i].productId %>">
                <%= products[i].productName %>
              </a></td>
            <td><img src="/images/<%= products[i].image %>" width="80"></td>
            <td>
              <%= products[i].quantity %>
            </td>
            <td>$<%= products[i].price.toFixed(2) %>
            <td>
              <a href="/updateProduct/<%= products[i].productId %>" class="table-action-button edit-button">Edit</a>
            </td>
            <td>
              <a href="/deleteProduct/<%= products[i].productId %>"
                onclick="return confirm('Are you sure you want to delete this product?')"
                class="table-action-button delete-button">Delete</a>
            </td>
          </tr>
          <% } %>
      </tbody>
    </table>
  </div>

</body>

</html>